<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factorial Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center">
    <button 
        class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600" 
        onclick="openModal()">
        Calculate Factorial
    </button>

    <div id="modal" 
        class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 transition-opacity duration-300 hidden">
        <div id="popup" 
            class="bg-white rounded-lg p-6 text-center w-96 transform scale-95 translate-y-10 opacity-0 transition-all duration-300">
            <button 
                class="text-gray-500 float-right text-xl" 
                onclick="closeModal()">
                &times;
            </button>
            <h2 class="text-xl font-bold mb-4">Factorial Calculator</h2>
            <input 
                type="number" 
                id="number" 
                placeholder="Enter a positive integer" 
                class="w-full px-3 py-2 border rounded mb-4 focus:outline-none focus:ring focus:border-blue-300">
            <div class="flex justify-center mb-4">
                <button 
                    class="px-4 py-2 w-full bg-green-500 text-white rounded hover:bg-green-600" 
                    onclick="calculateFactorial()">
                    Calculate
                </button>
            </div>
            <div id="output" class="mt-4 font-semibold text-gray-700"></div>
            <p>By Recursive method</p>
        </div>
    </div>

    <div class="w-full text-center mt-10">
        <p class="text-gray-700 text-lg">Created By Anand</p>
    </div>

    <script>
        function openModal() {
            const modal = document.getElementById('modal');
            const popup = document.getElementById('popup');
            
            // Show modal background
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('opacity-100'), 10);
            
            // Animate popup with jump-in effect
            setTimeout(() => {
                popup.classList.add('scale-100', 'opacity-100', 'translate-y-0');
                popup.classList.remove('scale-95', 'opacity-0', 'translate-y-10');
            }, 50); // Ensure slight delay for transition to apply
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            const popup = document.getElementById('popup');

            // Animate popup with jump-out effect
            popup.classList.remove('scale-100', 'opacity-100', 'translate-y-0');
            popup.classList.add('scale-95', 'opacity-0', 'translate-y-10');

            // Fade out modal background after popup animation
            setTimeout(() => {
                modal.classList.remove('opacity-100');
                setTimeout(() => modal.classList.add('hidden'), 300); // Match duration
            }, 200); // Slight delay for popup animation
        }

        function calculateFactorial() {
            const numberInput = document.getElementById('number').value;
            const num = parseInt(numberInput, 10);

            if (isNaN(num) || num < 0) {
                document.getElementById('output').textContent = 'Please enter a valid positive integer.';
                return;
            }

            let result = 1;
            for (let i = 2; i <= num; i++) {
                result *= i;
            }

            document.getElementById('output').textContent = `Factorial of ${num}: ${result}`;
        }
    </script>
</body>
</html>
